<html>
<head>
    <title>Homework 7 - Task 4</title>
</head>
<body>

<label> Enter numbers seperated with comas "," : </label>
<input id="Input" type="text" class="js-console-input" />
<br />

<button id="Btn">Click to search!</button>
<br />

<script type="text/javascript">

/* Write a script that finds the maximal increasing sequence in an array. Example: {3, 2, 3, 4, 2, 2, 4} ïƒ  {2, 3, 4}. */


    window.onload = addingListener()

    function addingListener()
    {
        //<button id="Btn">Click me!</button>
        document.getElementById("Btn").addEventListener("click", Calculate, false);
    }

    function Calculate()
    {
        seperator = ",";
        var Arr = document.getElementById("Input").value;
        Arr = Arr.split(seperator);

        var count = new Array(Arr.length);
        var startElement, endElement, position, length, plus;

            for (var i = count.length - 1; i >= 0; i--)
            {
                count[i] = 0;
            }

            for (var i = 0; i < Arr.length; )
            {
                if (Arr[i] == Arr[i+1] - 1)
                {
                    count[i] += 2;
                    plus = 2;

                    for (var y = i + 2; ; y++)
                    {
                        
                        if (Arr[i] == Arr[y] - plus)
                        {
                            count[i] += 1;
                            plus++;
                        }
                        else
                        {
                            i += count[i];
                            break;
                        }
                    }
                }
                else
                {
                    i++
                }
            }
            
            console.log(Arr.join(" - "));
            console.log(count.join(" - "));

            position = count.indexOf(Math.max.apply(Math, count));
            startElement = Arr[position];
            endElement = Arr[position + count[position] - 1];
            length = count[position]
            console.log("elements: " + startElement + "-" + endElement);
            console.log("position: " + position);
            console.log("length: " + length);
    }


</script>
</body>
</html>




