<!DOCTYPE HTML>
<html>
<head>
	<title>Telerik Academy Homework</title>
	<style type="text/css">
		#wrapper {
			background: #aae;
			padding: 15px;
		}
		#wrapper .task {
			border: 1px solid black;
			background: #fff;
			padding: 5px;
			text-align: center;
		}
		#wrapper .task label{
			color: #CF8600;
		}
		#wrapper .task input{
			display: block;
			margin: 1px;
		}
		#wrapper .task div {
			display: inline-block;
			width: 45%;
			text-align: left;
		}
		#wrapper .task div:last-child {
			min-height: 40px;
			color: black;
			font-size: 24px;
			background: none;
			text-align: center;
			padding: 5px;

			overflow: auto;
			max-height: 500px;
		}
		#wrapper .task div.done {
			border: 1px solid black;
			background: #5e5;
		}
		#wrapper .task div.error {
			border: 1px solid black;
			background: #f00;
		} </style>

	<script type="text/javascript">
		function ShowResult(result, resultDivClass, taskNumber)
		{
		    document.getElementById("result" + taskNumber).className = resultDivClass;
		    document.getElementById("result" + taskNumber).innerHTML = result;
		}

		function ThrowError(taskNumber)
		{
			ShowResult("Error", "error", taskNumber);
		}

		function HandleClicks(taskNumber)
		{
		    switch (taskNumber) {
		        case 1: DoTask1(); break;
		        case 2: DoTask2(); break;
		        case 3: DoTask3(); break;
		        case 4: DoTask4(); break;
		        case 5: DoTask5(); break;
		        case 6: DoTask6(); break;
		        case 7: DoTask7(); break;
		        default: break;
		    }
		}

		function DoTask1()
		{
			var arrOfNums = new Array(20);

			for (var i = 0; i < 20; i++) {
				arrOfNums[i] = i * 5;
			}

			var result = "[ " + arrOfNums.join(", ") + " ]";

			ShowResult(result,"done",1);
		}
		function DoTask2()
		{
			var stringA = document.getElementById("input2-1").value.split('');
			var stringB = document.getElementById("input2-2").value.split('');

			var minLength = Math.min(stringA.length, stringB.length);

			var result = 0; // 1, 0 or -1

			for (var i = 0; i < minLength; i++) {
				if (stringA[i] > stringB[i]) {
					result = 1;
					break;
				}
				else if (stringA[i] < stringB[i]) {
					result = -1;
					break;
				}
			}

			if (result == 0 && stringA.length != stringB.length) {
				if (stringA.length > stringB.length) {
					result = 1;
				}
				else if (stringA.length < stringB.length) {
					result = -1;
				}
			}

			switch (result) {
				case 1: ShowResult("String A is bigger than string B" , "done" , 2); break;
				case 0:  ShowResult("The strings are equal" , "done" , 2); break;
				case -1: ShowResult("String B is bigger than string A" , "done" , 2); break;
				default: ThrowError(2); break;
			}
		}
		function DoTask3()
		{
			var inputAsIs = document.getElementById("input3").value;

			var arrOfStrings = inputAsIs.split(",");
			arrOfStrings = arrOfStrings.filter(function(n){ return n.length > 0 });

			var startingPosition = 0;
			var maxLength = 1;
			var currentLength = 1;

			for (var i = 1; i < arrOfStrings.length; i++) {
				// alert(i + " - " + startingPosition + "p " + maxLength + "m " + currentLength + "c");
				if (arrOfStrings[i] == arrOfStrings[i-1]) {
					currentLength++;
				}
				else {
					currentLength = 1;
				}

				if (currentLength > maxLength) {
					startingPosition = i - currentLength + 1;
					maxLength = currentLength;
				}
			}
			var result = arrOfStrings.slice(startingPosition, startingPosition+maxLength);

			ShowResult("Max sequence = " + result.join(), "done", 3);
		}
		function DoTask4()
		{
			var inputAsIs = document.getElementById("input4").value;

			var arrOfStrings = inputAsIs.split(",");
			arrOfStrings = arrOfStrings.filter(function(n){ return n.length > 0 });

			for(var num in arrOfStrings) {
				if (isNaN(parseInt(num))) {
					ThrowError(4);
					return;
				}
			}

			var startingPosition = 0;
			var maxLength = 1;
			var currentLength = 1;

			for (var i = 1; i < arrOfStrings.length; i++) {
				// alert(i + " - " + startingPosition + "p " + maxLength + "m " + currentLength + "c");
				if (arrOfStrings[i]-1 == arrOfStrings[i-1]) {
					currentLength++;
				}
				else {
					currentLength = 1;
				}

				if (currentLength > maxLength) {
					startingPosition = i - currentLength + 1;
					maxLength = currentLength;
				}
			}
			var result = arrOfStrings.slice(startingPosition, startingPosition+maxLength);

			ShowResult("Max sequence = " + result.join(), "done", 4);
		}
		function DoTask5()
		{
			var arrOfNums = document.getElementById("input5").value.split(",");
			arrOfNums = arrOfNums.filter(function(n){ return n.length > 0 });

			for (var i = arrOfNums.length - 1; i >= 0; i--) {
				arrOfNums[i] = parseInt(arrOfNums[i]);
				if (isNaN(arrOfNums[i])) {
					ThrowError(5);
					return;
				}
			}

			var sortedArr = arrOfNums;

			var swapped;
		    do {
		        swapped = false;
		        for (var i=0; i < sortedArr.length-1; i++) {
		            if (sortedArr[i] > sortedArr[i+1]) {

		                var temp = sortedArr[i];
		                sortedArr[i] = sortedArr[i+1];
		                sortedArr[i+1] = temp;
		                swapped = true;
		            }
		        }
		    } while (swapped);

		    ShowResult(sortedArr.join("-"), "done", 5);
		}
		function DoTask6()
		{
			var arrOfNums = document.getElementById("input6").value.split(",");
			arrOfNums = arrOfNums.filter(function(n){ return n.length > 0 });

			for (var i = arrOfNums.length - 1; i >= 0; i--) {
				arrOfNums[i] = parseInt(arrOfNums[i]);
				if (isNaN(arrOfNums[i])) {
					ThrowError(6);
					return;
				}
			}

			var dictionary = {
				key: new Array(),
				occurences: new Array()
			}

			for (var i = arrOfNums.length - 1; i >= 0; i--) {

				var numIsInDictionary = false;

				for (var y = dictionary.key.length - 1; y >= 0; y--) {

					if (dictionary.key[y] == arrOfNums[i]) {

						numIsInDictionary = true;
						dictionary.occurences[y]++;
					}
				}

				if (!numIsInDictionary) {
					dictionary.key.push(arrOfNums[i]);
					dictionary.occurences.push(1);
				}
			}

			var indexOfMax = -1;
			var max = Number.MIN_VALUE;

			for (var i = dictionary.occurences.length - 1; i >= 0; i--) {
				if (dictionary.occurences[i] > max) {
					indexOfMax = i;
					max = dictionary.occurences[i];
				}
			}

			var result = "values: "
			+ dictionary.key.join(" | ") 
			+ "<br />"
			+ "times : "
			+ dictionary.occurences.join(" | ")
			+ "<br />"
			+ dictionary.key[indexOfMax]
			+ " ("
			+ dictionary.occurences[indexOfMax]
			+ " times)";

		    ShowResult(result, "done", 6);
		}
		function DoTask7()
		{
			var searchElement = document.getElementById("input7").value;
			searchElement = parseInt(searchElement);

			if (isNaN(searchElement)) {
				ThrowError(7);
				return;
			}
			if (searchElement < 0 ||
				searchElement > 99) {
				ShowResult("Out of bounds", "error", 7);
				return;
			}

			var arrOfNums = new Array();
			for (var i = 1; i <= 100; i++) {
				arrOfNums.push(i);
			}

			var minIndex = 0;
	        var maxIndex = arrOfNums.length - 1;
	        var currentIndex;
	        var currentElement;
	    
	        while (minIndex <= maxIndex) {

	        	alert("min index: " + minIndex + "\n" + "max index: " + maxIndex);

	                currentIndex = (minIndex + maxIndex) / 2 | 0;
	                currentElement = arrOfNums[currentIndex];
	    
	                if (currentElement < searchElement) {
	              		minIndex = currentIndex + 1;
	                }
	                else if (currentElement > searchElement) {
	                	maxIndex = currentIndex - 1;
	                }
	                else {
	                    break;
	                }
	        }

			ShowResult("index: " + currentIndex, "done", 7);
		}

    </script>

</head>
<body>
	<div id="wrapper">
		<div class="task">
			<div>
				<header><h2>Task 1</h2></header>
				<p>Write a script that allocates array of 20 integers and initializes each element by its index multiplied by 5. Print the obtained array.</p>
				<button onclick="HandleClicks(1)">Do it!</button>
		    </div>
			<div id="result1" class=""></div>
		</div>
		<div class="task">
			<div>
				<header><h2>Task 2</h2></header>
				<p>Write a script that compares two char arrays lexicographically (letter by letter).</p>
				<input placeholder="string A" id="input2-1">
				<input placeholder="string B" id="input2-2">
				<button onclick="HandleClicks(2)">Do it!</button>
		    </div>
			<div id="result2" class=""></div>
		</div>
		<div class="task">
			<div>
				<header><h2>Task 3</h2></header>
				<p>Write a script that finds the maximal sequence of equal elements in an array</p>
				<p>Example: { 2,1,1,2,3,3,2,2,2,1 } >>> {2,2,2}</p>
				<label for="input3">input numbers seperated by commas (like '1,2,3,4,5,a,p,p,l,e')</label>
				<input id="input3">
				<button onclick="HandleClicks(3)">Do it!</button>
		    </div>
			<div id="result3" class=""></div>
		</div>
		<div class="task">
			<div>
				<header><h2>Task 4</h2></header>
				<p>Write a script that finds the maximal increasing sequence in an array.</p>
				<p>Example: { 3,2,3,4,2,2,4 } >>> { 2,3,4 }</p>
				<label for="input4">input numbers seperated by commas (like '1,2,3,4,5')</label>
				<label for="input4">input only numbers</label>
				<input id="input4">
				<button onclick="HandleClicks(4)">Do it!</button>
		    </div>
			<div id="result4" class=""></div>
		</div>
		<div class="task">
			<div>
				<header><h2>Task 5</h2></header>
				<p>Sorting an array means to arrange its elements in increasing order. Write a script to sort an array. Use the "selection sort" algorithm: Find the smallest element, move it at the first position, find the smallest from the rest, move it at the second position, etc.</p>
				<p>Hint: Use a second array</p>
				<label for="input5">input numbers seperated by commas (like 5,4,1,5,7,9,6,2,5,4,110,5 )</label>
				<label for="input5">input only numbers</label>
				<input id="input5">
				<button onclick="HandleClicks(5)">Do it!</button>
		    </div>
			<div id="result5" class=""></div>
		</div>
		<div class="task">
			<div>
				<header><h2>Task 6</h2></header>
				<p>Write a program that finds the most frequent number in an array.</p>
				<p>Example { 4,1,1,4,2,3,4,4,1,2,4,9,3 } >>> 4 (5 times)</p>
				<input id="input6">
				<button onclick="HandleClicks(6)">Do it!</button>
		    </div>
			<div id="result6" class=""></div>
		</div>
		<div class="task">
			<div>
				<header><h2>Task 7</h2></header>
				<p>Write a program that finds the index of given element in a sorted array of integers by using the binary search algorithm (find it in Wikipedia)</p>
				<p>{ 1, 2, 3, 4, 5, 6, 7, 8 .......... 98, 99, 100 }</p>
				<input placeholder="number to search for" id="input7">
				<button onclick="HandleClicks(7)">Do it!</button>
		    </div>
			<div id="result7" class=""></div>
		</div>
	</div>
</body>
</html>